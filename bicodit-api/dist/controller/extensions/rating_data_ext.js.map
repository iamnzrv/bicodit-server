{"version":3,"sources":["../../../src/controller/extensions/rating_data_ext.js"],"names":["RatingDataExt","token","callback","userId","id","RatingData","find","exec","err","ratings"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;;;;;;;IAEMA,a;;;;;;;;;uCAEsBC,K,EAAOC,Q,EAAU;AACzC,UAAMC,MAAM,GAAG,2BAAUF,KAAV,EAAiBG,EAAhC;;AACAC,yBACCC,IADD,CACM;AAAE,kBAAUH;AAAZ,OADN,EAECI,IAFD,CAGE,UAACC,GAAD,EAAMC,OAAN,EAAkB;AAChB,YAAID,GAAJ,EAAS;AACP,iBAAON,QAAQ,CAACM,GAAD,EAAM,IAAN,CAAf;AACD,SAFD,MAEO;AACL,iBAAON,QAAQ,CAAC,IAAD,EAAOO,OAAP,CAAf;AACD;AACF,OATH;AAWD;;;;;;eAGYT,a","sourcesContent":["import mongoose from 'mongoose';\nimport jwtDecode from 'jwt-decode';\nimport RatingData from '../../models/rating';\n\nclass RatingDataExt {\n\n  static findRatingsByToken(token, callback) {\n    const userId = jwtDecode(token).id;\n    RatingData\n    .find({ 'userId': userId })\n    .exec(\n      (err, ratings) => {\n        if (err) {\n          return callback(err, null);\n        } else {\n          return callback(null, ratings);\n        }\n      }\n    )\n  }\n}\n\nexport default RatingDataExt;\n"],"file":"rating_data_ext.js"}